### This file was generated by Ansible.
### Do NOT edit this file by hand!

define ROOT {{ nxlog_root }}

Moduledir {{ nxlog_moduledir }}
CacheDir {{ nxlog_cachedir }}
Pidfile {{ nxlog_pidfile }}
SpoolDir {{ nxlog_spooldir }}
LogFile {{ nxlog_logfile }}


<Extension _syslog>
    Module      xm_syslog
</Extension>

{% if nxlog_eventlog %}
<Input eventlog>
    Module      im_msvistalog
    Query	{{ nxlog_eventlog_query }}
    Exec	if ($EventType == 'INFO') OR ($EventType == 'NOTICE') OR ($EventType == 'VERBOSE') drop();
</Input>
{% endif %}

{% for tag, file in nxlog_imfile.iteritems() %}
<Input {{ tag }}>
    Module	im_file
    File	"{{ file }}"
    ReadFromLast	True
    SavePos	True
    Exec	$nxtags = "{{ tag }}";
</Input>
{% endfor %}

<Output out>
    Module      om_tcp
    Host        {{ nxlog_omtcp_host }}
    Port        {{ nxlog_omtcp_port }}
    Exec        to_syslog_snare();
</Output>

{% if nxlog_eventlog %}
<Route eventlog>
    Path        eventlog => out
</Route>
{% endif %}

{% for tag, file in nxlog_imfile.iteritems() %}
<Route {{ tag }}>
    Path        {{ tag }} => out
</Route>
{% endfor %}
